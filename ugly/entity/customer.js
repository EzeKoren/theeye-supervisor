"use strict";var mongodb=require("../lib/mongodb"),Schema=require("mongoose").Schema,EntitySchema=Schema({name:{type:String,index:!0,unique:!0,required:!0,dropDups:!0},description:{type:String,default:""},emails:{type:Array,default:[]},config:{type:Object,default:{}},creation_date:{type:Date,default:new Date}});EntitySchema.methods.publish=function(e){var t=this;return{id:t._id,name:t.name,emails:t.emails,description:t.description,config:t.config,creation_date:t.creation_date}};var Entity=mongodb.db.model("Customer",EntitySchema);Entity.ensureIndexes(),exports.Entity=Entity;