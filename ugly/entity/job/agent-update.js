"use strict";var BaseSchema=require("./schema"),Job=require("./index"),AgentUpdateJobSchema=new BaseSchema({name:{type:String,default:"agent:config:update"},state:{type:String,default:"new"},notify:{type:Boolean,default:!1}});AgentUpdateJobSchema.statics.create=function(e,t){t||(t=function(){});var r=this;r.find({host_id:e.host_id,state:"new"}).exec(function(o,n){if(0!=n.length)return t(null,n[0]);var i=new r(e);i.host=e.host_id,i.save(function(e){e&&debug.error(e),t(e,i)})})},module.exports=AgentUpdateJobSchema;